import{d as w,u as C,c as $,r as D,o as r,a as k,w as p,b as e,e as B,n as P,f as h,t as u,g as V,h as N,i as m,j,k as g,F as q,l as A,m as M,p as z,q as F,s as I,v as f,x as v,y,z as L,A as x,B as b}from"./index-8EdU-P1K.js";const Q="/assets/img/introduction-music.png",R={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},E={class:"flex justify-between items-center"},G={class:"flex flex-col"},H={class:"font-bold block text-gray-600"},O={class:"text-gray-500 text-sm"},T={class:"text-gray-600 text-lg"},J=["onClick"],K=e("i",{class:"fa fa-comments text-gray-600"},null,-1),U=w({__name:"SongItem",props:{song:{}},setup(_){const t=_,s=C(),i=$(()=>{var o;return((o=s.current_song)==null?void 0:o.id)===t.song.id});function c(){if(s.isPlaying&&i.value){s.toggleAudio();return}t.song&&s.newSong(t.song)}return(o,d)=>{const a=D("router-link");return r(),k(a,{to:{name:"song",params:{id:o.song.id}}},{default:p(()=>[e("li",R,[e("div",E,[e("button",{type:"button",class:"mr-4",onClick:B(c,["prevent"])},[e("i",{class:P(["fa text-gray-500 text-xl",{"fa-play":!h(s).isPlaying||!i.value,"fa-pause":h(s).isPlaying&&i.value}])},null,2)]),e("div",G,[e("span",H,u(o.song.modified_name),1),e("span",O,u(o.song.display_name),1)])]),e("div",T,[V(a,{custom:"",to:{name:"song",params:{id:o.song.id},hash:"#comments"}},{default:p(({navigate:l})=>[e("span",{class:"comments",onClick:l},[K,N(" "+u(o.song.comment_count),1)],8,J)]),_:1},8,["to"])])])]),_:1},8,["to"])}}}),W=z('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Discover endless musical possibilities with our immersive website, offering a vast library of tunes curated to suit every mood and taste. Dive into a world of rhythm and melody, where every click brings you closer to your next favorite song. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+Q+'"></section>',1),X={class:"container mx-auto"},Y={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Z=e("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[e("span",{class:"card-title"},"Songs"),e("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),ee={id:"playlist"},te=e("i",{class:"fas fa-spinner fa-spin"},null,-1),se=[te],ae=w({__name:"HomeView",setup(_){const t=m([]),s=m(!1);let i=!1;async function c(){if(i||s.value)return;i=!0;let a;const l=5;if(t.value.length){const n=await F(I(f,t.value[t.value.length-1].id)),S=v(f,x("modified_name"),L(n),y(l));a=await b(S)}else{const n=v(f,x("modified_name"),y(l));a=await b(n)}a.docs.length===0&&(s.value=!0),t.value=t.value.concat(a.docs.map(n=>({...n.data(),id:n.id}))),i=!1}c();const o=new IntersectionObserver(a=>{a[0].intersectionRatio<=0||c()}),d=m(null);return j(()=>{d.value&&o.observe(d.value)}),(a,l)=>(r(),g("main",null,[W,e("section",X,[e("div",Y,[Z,e("ol",ee,[(r(!0),g(q,null,A(t.value,n=>(r(),k(U,{key:n.id,song:n},null,8,["song"]))),128))])]),s.value?M("",!0):(r(),g("div",{key:0,ref_key:"loading",ref:d,class:"text-center text-2xl mt-2 h-12 flex items-center justify-center"},se,512))])]))}});export{ae as default};
